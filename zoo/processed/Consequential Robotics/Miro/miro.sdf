<?xml version="1.0"?>
<sdf version="1.5">
	<model name="miro">

		<link name="body">
			<inertial>
				<pose>-0.060 0 0.050 0 0 0</pose>
				<mass>1.570796</mass>
				<inertia>
					<ixx>0.00523599</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00523599</iyy>
					<iyz>0.0</iyz>
					<izz>0.00785398</izz>
				</inertia>
			</inertial>
			<visual name="visual_valance">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/valance.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_valance">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/valance_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.1</mu>
							<mu2>0.1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_skirt_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/skirt_lh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_skirt_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/skirt_rh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_cliff_sensor_L_asm">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/cliff_sensor_L_asm.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_cliff_sensor_R_asm">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/cliff_sensor_R_asm.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_light_sensor_holder_asm_L">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/light_sensor_holder_asm_L.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_light_sensor_holder_asm_R">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/light_sensor_holder_asm_R.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_body_shell">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/body_shell.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<collision name="collision_body_shell">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/body_shell_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.1</mu>
							<mu2>0.1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_slider">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/slider.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_slider">
				<pose>-0.1075 0 0.0264 0 0 0</pose>
				<geometry>
					<sphere>
						<radius>0.015</radius>
					</sphere>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.01</mu>
							<mu2>0.01</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<!-- imu -->
			<sensor name="acc_body" type="imu">
				<pose>0 0 0 0 0 0</pose>
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- cliff -->
			<sensor name="cliff_l" type="sonar">
				<pose>0.062 0.055 0.085 0 -0.52 0</pose>
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<visualize>false</visualize>
				<sonar>
					<min>0.0</min>
					<max>0.5</max>
					<radius>0.025</radius>
				</sonar>
			</sensor>
			<!-- cliff -->
			<sensor name="cliff_r" type="sonar">
				<pose>0.062 -0.055 0.085 0 -0.52 0</pose>
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<visualize>false</visualize>
				<sonar>
					<min>0.0</min>
					<max>0.5</max>
					<radius>0.025</radius>
				</sonar>
			</sensor>
			<!-- light -->
			<sensor name="lightfl" type="camera">
				<pose>0.055 0.065 0.08 0 -0.06 0.52</pose>
				<camera>
					<horizontal_fov>1.57</horizontal_fov>
					<image>
						<width>16</width>
						<height>12</height>
					</image>
					<clip>
						<near>0.01</near>
						<far>10</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>5</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- light -->
			<sensor name="lightfr" type="camera">
				<pose>0.055 -0.065 0.08 0 -0.06 -0.52</pose>
				<camera>
					<horizontal_fov>1.57</horizontal_fov>
					<image>
						<width>16</width>
						<height>12</height>
					</image>
					<clip>
						<near>0.01</near>
						<far>10</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>5</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- light -->
			<sensor name="lightrl" type="camera">
				<pose>-0.125 0.072 0.06 0 -0.26 2.61</pose>
				<camera>
					<horizontal_fov>1.57</horizontal_fov>
					<image>
						<width>16</width>
						<height>12</height>
					</image>
					<clip>
						<near>0.01</near>
						<far>10</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>5</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- light -->
			<sensor name="lightrr" type="camera">
				<pose>-0.125 -0.072 0.06 0 -0.26 -2.61</pose>
				<camera>
					<horizontal_fov>1.57</horizontal_fov>
					<image>
						<width>16</width>
						<height>12</height>
					</image>
					<clip>
						<near>0.01</near>
						<far>10</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>5</update_rate>
				<visualize>false</visualize>
			</sensor>
		</link>
		<link name="wheel_lh">
			<inertial>
				<pose>0.000630 0.077790 0.044838 0 0 0</pose>
				<mass>0.134041</mass>
				<inertia>
					<ixx>0.00014298</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00014298</iyy>
					<iyz>0.0</iyz>
					<izz>0.00014298</izz>
				</inertia>
			</inertial>
			<visual name="visual_wheel_tyre_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/wheel_tyre_lh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_wheel_tyre_lh">
				<pose>0.000630 0.077790 0.044838 -1.5446 0 0</pose>
				<geometry>
					<cylinder>
						<radius>0.045</radius>
						<length>0.002</length>
					</cylinder>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>1</mu>
							<mu2>1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_wheel_rim_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/wheel_rim_lh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
		</link>
		<link name="wheel_rh">
			<inertial>
				<pose>0.000630 -0.077790 0.044838 0 0 0</pose>
				<mass>0.134041</mass>
				<inertia>
					<ixx>0.00014298</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00014298</iyy>
					<iyz>0.0</iyz>
					<izz>0.00014298</izz>
				</inertia>
			</inertial>
			<visual name="visual_wheel_tyre_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/wheel_tyre_rh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_wheel_tyre_rh">
				<pose>0.000630 -0.077790 0.044838 1.5446 0 0</pose>
				<geometry>
					<cylinder>
						<radius>0.045</radius>
						<length>0.002</length>
					</cylinder>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>1</mu>
							<mu2>1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_wheel_rim_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/wheel_rim_rh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
		</link>
		<joint type="revolute" name="body_wheel_lh">
			<pose>0.000630 0.077790 0.044838 0 0 0</pose>
			<parent>body</parent>
			<child>wheel_lh</child>
			<axis>
				<xyz>0 0.999657 0.026185</xyz>
				<dynamics>
					<friction>0.1</friction>
					<damping>0.1</damping>
				</dynamics>
			</axis>
		</joint>
		<joint type="revolute" name="body_wheel_rh">
			<pose>0.000630 -0.077790 0.044838 0 0 0</pose>
			<parent>body</parent>
			<child>wheel_rh</child>
			<axis>
				<xyz>0 0.999657 -0.026185</xyz>
				<dynamics>
					<friction>0.1</friction>
					<damping>0.1</damping>
				</dynamics>
			</axis>
		</joint>

		<link name="tail_gmbl">
			<inertial>
				<pose>-0.143 0 0.085 0 0 0</pose>
				<mass>0.056549</mass>
				<inertia>
					<ixx>0.00003393</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00003393</iyy>
					<iyz>0.0</iyz>
					<izz>0.00003393</izz>
				</inertia>
			</inertial>
		</link>
		<joint type="revolute" name="body_tail_gmbl">
			<pose>-0.143 0 0.085 0 0 0</pose>
			<parent>body</parent>
			<child>tail_gmbl</child>
			<axis>
				<xyz>0 1 0</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.01</friction>
					<damping>0.02</damping>
				</dynamics>
			</axis>
		</joint>
		<link name="tail">
			<inertial>
				<pose>-0.143 0 0.085 0 0 0</pose>
				<mass>0.056549</mass>
				<inertia>
					<ixx>0.00003393</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00003393</iyy>
					<iyz>0.0</iyz>
					<izz>0.00003393</izz>
				</inertia>
			</inertial>
			<visual name="visual_tail">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/tail.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_tail">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/tail_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.1</mu>
							<mu2>0.1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
		</link>
		<joint type="revolute" name="tail_gmbl_tail">
			<pose>-0.143 0 0.085 0 0 0</pose>
			<parent>tail_gmbl</parent>
			<child>tail</child>
			<axis>
				<xyz>0 0 1</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.01</friction>
					<damping>0.02</damping>
				</dynamics>
			</axis>
		</joint>

		<joint type="revolute" name="body_neck">
			<pose>-0.002 0 0.081 0 0 0</pose>
			<parent>body</parent>
			<child>neck</child>
			<axis>
				<xyz>0 1 0</xyz>
				<limit>
					<lower>0</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<spring_stiffness>0.4</spring_stiffness>
					<spring_reference>0.0</spring_reference>
					<friction>0.01</friction>
					<damping>0.1</damping>
				</dynamics>
			</axis>
		</joint>

		<link name="neck">
			<inertial>
				<pose>-0.002 0 0.141 0 0 0</pose>
				<mass>0.075398</mass>
				<inertia>
					<ixx>0.00009802</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00009802</iyy>
					<iyz>0.0</iyz>
					<izz>0.00001508</izz>
				</inertia>
			</inertial>
		</link>

		<joint type="revolute" name="neck_gmbl">
			<pose>-0.002 0 0.201 0 0 0</pose>
			<parent>neck</parent>
			<child>gmbl</child>
			<axis>
				<xyz>0 0 1</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.01</friction>
					<damping>0.1</damping>
				</dynamics>
			</axis>
		</joint>

		<link name="gmbl">
			<inertial>
				<pose>-0.002 0 0.171 0 0 0</pose>
				<mass>0.039270</mass>
				<inertia>
					<ixx>0.00002487</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00002487</iyy>
					<iyz>0.0</iyz>
					<izz>0.00004909</izz>
				</inertia>
			</inertial>
			<visual name="visual_collar">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/collar.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Red</name>
					</script>
				</material>
			</visual>
		</link>

		<joint type="revolute" name="gmbl_head">
			<pose>-0.002 0 0.201 0 0 0</pose>
			<parent>gmbl</parent>
			<child>head</child>
			<axis>
				<xyz>0 1 0</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<spring_stiffness>0.1</spring_stiffness>
					<spring_reference>-0.5</spring_reference>
					<friction>0.01</friction>
					<damping>0.1</damping>
				</dynamics>
			</axis>
		</joint>

		<link name="head">
			<inertial>
				<pose>-0.002 0 0.221 0 0 0</pose>
				<mass>0.261799</mass>
				<inertia>
					<ixx>0.00043633</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00043633</iyy>
					<iyz>0.0</iyz>
					<izz>0.00043633</izz>
				</inertia>
			</inertial>
			<visual name="visual_head_lower">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/head_lower.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<collision name="collision_head_lower">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/head_lower_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.1</mu>
							<mu2>0.1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_head_upper">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/head_upper.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<collision name="collision_head_upper">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/head_upper_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.1</mu>
							<mu2>0.1</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_eyelid_lower_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/eyelid_lower_lh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<visual name="visual_eyelid_lower_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/eyelid_lower_rh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<visual name="visual_nose">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/nose.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_nose">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/nose_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.3</mu>
							<mu2>0.3</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
			<visual name="visual_1">
				<pose>0.029 0.033 0.252 0 0 0</pose>
				<geometry>
					<sphere>
						<radius>0.018</radius>
					</sphere>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<visual name="visual_2">
				<pose>0.0315 0.036 0.254 0 0 0</pose>
				<geometry>
					<sphere>
						<radius>0.015</radius>
					</sphere>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<visual name="visual_3">
				<pose>0.029 -0.033 0.252 0 0 0</pose>
				<geometry>
					<sphere>
						<radius>0.018</radius>
					</sphere>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
			<visual name="visual_4">
				<pose>0.0315 -0.036 0.254 0 0 0</pose>
				<geometry>
					<sphere>
						<radius>0.015</radius>
					</sphere>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/DarkGrey</name>
					</script>
				</material>
			</visual>
			<!-- eye_l -->
			<sensor name="eye_l" type="wideanglecamera">
				<!-- pose position come from miro_software_constants.h -->
				<!-- pose angles come from dev/sim_camera_calib -->
				<pose>0.0377 0.0431 0.2595 -0.4262 -0.6816 0.6244</pose>
				<camera>
					<!--
					this should be 120 degrees, but if a distortion model is used
					this value may need to be adjusted so that the end result has
					the correct horizontal FOV (120 degrees); this can be determined
					empirically by adjusting the value here until the FOV is correct
					in camera_calib.world:
					http://gazebosim.org/tutorials?tut=camera_distortion
					NB: 120 degrees is 2.0944 radians
					NB: 120 degrees does seem to work fine for wideanglecamera
					-->
					<horizontal_fov>2.0944</horizontal_fov>
					<image>
						<width>1280</width>
						<height>720</height>
					</image>
					<clip>
						<!-- clip at short range to eliminate eyelid from view -->
						<near>0.006</near>
						<far>100</far>
					</clip>
					<lens>
						<type>custom</type>
						<scale_to_hfov>1</scale_to_hfov>
						<custom_function>
							<c1>2.0</c1>
							<c2>1.25</c2>
							<c3>0.0</c3>
							<f>1.0</f>
							<fun>sin</fun>
						</custom_function>
					</lens>
				</camera>
				<always_on>1</always_on>
				<update_rate>10</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- eye_r -->
			<sensor name="eye_r" type="wideanglecamera">
				<pose>0.0377 -0.0431 0.2595 0.4261 -0.6816 -0.6244</pose>
				<camera>
					<horizontal_fov>2.0944</horizontal_fov>
					<image>
						<width>1280</width>
						<height>720</height>
					</image>
					<clip>
						<near>0.006</near>
						<far>100</far>
					</clip>
					<lens>
						<type>custom</type>
						<scale_to_hfov>1</scale_to_hfov>
						<custom_function>
							<c1>2.0</c1>
							<c2>1.25</c2>
							<c3>0.0</c3>
							<f>1.0</f>
							<fun>sin</fun>
						</custom_function>
					</lens>
				</camera>
				<always_on>1</always_on>
				<update_rate>10</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- eye_l narrow -->
			<sensor name="eye_l_narrow" type="camera">
				<!-- pose position come from miro_software_constants.h -->
				<!-- pose angles come from dev/sim_camera_calib -->
				<pose>0.0377 0.0431 0.2595 -0.4262 -0.6816 0.6244</pose>
				<camera>
					<!--
					this should be 120 degrees, but if a distortion model is used
					this value may need to be adjusted so that the end result has
					the correct horizontal FOV (120 degrees); this can be determined
					empirically by adjusting the value here until the FOV is correct
					in camera_calib.world:
					http://gazebosim.org/tutorials?tut=camera_distortion
					NB: 120 degrees is 2.0944 radians
					NB: 120 degrees does seem to work fine for wideanglecamera
					-->
					<horizontal_fov>2.0944</horizontal_fov>
					<image>
						<width>1280</width>
						<height>720</height>
					</image>
					<clip>
						<!-- clip at short range to eliminate eyelid from view -->
						<near>0.006</near>
						<far>100</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>10</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- eye_r_narrow -->
			<sensor name="eye_r_narrow" type="camera">
				<pose>0.0377 -0.0431 0.2595 0.4261 -0.6816 -0.6244</pose>
				<camera>
					<horizontal_fov>2.0944</horizontal_fov>
					<image>
						<width>1280</width>
						<height>720</height>
					</image>
					<clip>
						<near>0.006</near>
						<far>100</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>10</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- gaze -->
			<sensor name="gaze" type="camera">
				<pose>0.0577 0 0.2795 0 -0.785398 0</pose>
				<camera>
					<horizontal_fov>1.0</horizontal_fov>
					<image>
						<width>1280</width>
						<height>720</height>
					</image>
					<clip>
						<near>0.001</near>
						<far>100</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>10</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- overhead -->
			<sensor name="overhead" type="camera">
				<pose>0 0 1.0 0 1.22 0</pose>
				<camera>
					<horizontal_fov>1.0472</horizontal_fov>
					<image>
						<width>1280</width>
						<height>720</height>
					</image>
					<clip>
						<near>0.01</near>
						<far>2</far>
					</clip>
				</camera>
				<always_on>1</always_on>
				<update_rate>10</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- imu -->
			<sensor name="acc_head" type="imu">
				<pose>0 0 0 0 0 0</pose>
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<visualize>false</visualize>
			</sensor>
			<!-- sonar -->
			<sensor name="sonar" type="sonar">
				<pose>0.1 0 0.235 0 -1.5708 0</pose>
				<always_on>1</always_on>
				<update_rate>50</update_rate>
				<visualize>false</visualize>
				<sonar>
					<min>0.0</min>
					<max>1.0</max>
					<radius>0.309</radius>
				</sonar>
			</sensor>
		</link>
		<link name="eyelid_lh">
			<inertial>
				<pose>0.029 0.032 0.252 0 0 0</pose>
				<mass>0.016755</mass>
				<inertia>
					<ixx>0.00000447</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00000447</iyy>
					<iyz>0.0</iyz>
					<izz>0.00000447</izz>
				</inertia>
			</inertial>
			<visual name="visual_eyelid_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/eyelid_lh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
		</link>
		<link name="eyelid_rh">
			<inertial>
				<pose>0.029 -0.032 0.252 0 0 0</pose>
				<mass>0.016755</mass>
				<inertia>
					<ixx>0.00000447</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00000447</iyy>
					<iyz>0.0</iyz>
					<izz>0.00000447</izz>
				</inertia>
			</inertial>
			<visual name="visual_eyelid_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/eyelid_rh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/White</name>
					</script>
				</material>
			</visual>
		</link>
		<!-- joint axes are from "eyelid axes.txt" in FreeCAD source folder -->
		<joint type="revolute" name="head_eyelid_lh">
			<pose>0.029 0.032 0.252 0 0 0</pose>
			<parent>head</parent>
			<child>eyelid_lh</child>
			<axis>
				<xyz>-0.675 0.675 -0.2978</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.1</friction>
					<damping>0.1</damping>
					<spring_reference>-0.5</spring_reference>
					<spring_stiffness>0.02</spring_stiffness>
				</dynamics>
			</axis>
			<physics>
				<ode>
					<cfm_damping>true</cfm_damping>
					<implicit_spring_damper>true</implicit_spring_damper>
				</ode>
			</physics>
		</joint>
		<joint type="revolute" name="head_eyelid_rh">
			<pose>0.029 -0.032 0.252 0 0 0</pose>
			<parent>head</parent>
			<child>eyelid_rh</child>
			<axis>
				<xyz>0.675 0.675 0.2978</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.1</friction>
					<damping>0.1</damping>
					<spring_reference>-0.5</spring_reference>
					<spring_stiffness>0.02</spring_stiffness>
				</dynamics>
			</axis>
			<physics>
				<ode>
					<cfm_damping>true</cfm_damping>
					<implicit_spring_damper>true</implicit_spring_damper>
				</ode>
			</physics>
		</joint>
		<link name="ear_lh">
			<inertial>
				<pose>-0.0437 0.0474 0.2773 0 0 0</pose>
				<mass>0.056549</mass>
				<inertia>
					<ixx>0.00003393</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00003393</iyy>
					<iyz>0.0</iyz>
					<izz>0.00003393</izz>
				</inertia>
			</inertial>
			<visual name="visual_ear_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/ear_lh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_ear_lh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/ear_lh_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.3</mu>
							<mu2>0.3</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
		</link>
		<link name="ear_rh">
			<inertial>
				<pose>-0.0437 -0.0474 0.2773 0 0 0</pose>
				<mass>0.056549</mass>
				<inertia>
					<ixx>0.00003393</ixx>
					<ixy>0.0</ixy>
					<ixz>0.0</ixz>
					<iyy>0.00003393</iyy>
					<iyz>0.0</iyz>
					<izz>0.00003393</izz>
				</inertia>
			</inertial>
			<visual name="visual_ear_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/ear_rh.dae</uri>
					</mesh>
				</geometry>
				<material>
					<script>
						<uri>file://media/materials/scripts/gazebo.material</uri>
						<name>Gazebo/Grey</name>
					</script>
				</material>
			</visual>
			<collision name="collision_ear_rh">
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<mesh>
						<uri>model://miro_model/meshes/ear_rh_collision.dae</uri>
					</mesh>
				</geometry>
				<surface>
					<friction>
						<ode>
							<mu>0.3</mu>
							<mu2>0.3</mu2>
						</ode>
					</friction>
				</surface>
			</collision>
		</link>
		<joint type="revolute" name="head_ear_lh">
			<pose>-0.0437 0.0474 0.2773 0 0 0</pose>
			<parent>head</parent>
			<child>ear_lh</child>
			<axis>
				<xyz>-0.5730 0.4344 0.6949</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.01</friction>
					<damping>0.001</damping>
					<!--
					<spring_reference>-0.5</spring_reference>
					<spring_stiffness>0.02</spring_stiffness>
				-->
				</dynamics>
			</axis>
		</joint>
		<joint type="revolute" name="head_ear_rh">
			<pose>-0.0437 -0.0474 0.2773 0 0 0</pose>
			<parent>head</parent>
			<child>ear_rh</child>
			<axis>
				<xyz>-0.5730 -0.4344 0.6949</xyz>
				<limit>
					<lower>-1.57</lower>
					<upper>1.57</upper>
				</limit>
				<dynamics>
					<friction>0.01</friction>
					<damping>0.001</damping>
					<!--
					<spring_reference>-0.5</spring_reference>
					<spring_stiffness>0.02</spring_stiffness>
				-->
				</dynamics>
			</axis>
		</joint>

		<plugin name="miro_model" filename="libmiro_gazebo.so"/>

	</model>
</sdf>

